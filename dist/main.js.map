{"version":3,"sources":["webpack://javascript-project-2021/./src/main.js"],"names":["allCatsView","document","querySelector","addNewCatView","toggleView","style","display","getComputedStyle","cats","actualURL","findAnotherCat","fetch","then","response","ok","Error","json","data","url","html","innerHTML","catch","error","console","log","addEventListener","clearForm","getElementById","value","res","map","cat","name","colour","age","description","join","insertAdjacentHTML","form","getElementsByClassName","event","preventDefault","stopPropagation","checkValidity","newCat","push","addNewCat","classList","add"],"mappings":"MAAA,MAAMA,EAAcC,SAASC,cAAc,aACrCC,EAAgBF,SAASC,cAAc,gBACvCE,EAAa,KACjBJ,EAAYK,MAAMC,QAC0B,SAA1CC,iBAAiBP,GAAaM,QAAqB,QAAU,OAC/DH,EAAcE,MAAMC,QAC0B,SAA5CC,iBAAiBJ,GAAeG,QAAqB,QAAU,QAGnE,IAAIE,EAAO,GACPC,EAAY,GAIhB,SAASC,IACPC,MAAM,8CACHC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAMC,MAAM,SAEd,OAAOF,EAASG,UAEjBJ,MAAKK,IACJR,EAAYQ,EAAK,GAAGC,IACpB,MAAMC,EAAQ,cAAaF,EAAK,GAAGC,gBACnCjB,SAASC,cAAc,aAAakB,UAAYD,KAEjDE,OAAMC,IACLC,QAAQC,IAAIF,MAhBQrB,SAASC,cAAc,sBAmB/BuB,iBAAiB,SAAS,IAAMf,MAClD,MAAMgB,EAAY,KAChBzB,SAAS0B,eAAe,gBAAgBC,MAAQ,GAChD3B,SAAS0B,eAAe,eAAeC,MAAQ,GAC/C3B,SAAS0B,eAAe,kBAAkBC,MAAQ,GAClD3B,SAAS0B,eAAe,uBAAuBC,MAAQ,GACvDlB,KAGFT,SAASC,cAAc,aAAauB,iBAAiB,SAAS,KAC5DC,IACAtB,OAEFH,SACGC,cAAc,iBACduB,iBAAiB,SAAS,IAAMrB,MAGjCO,MAAM,8CACHC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAMC,MAAM,SAEd,OAAOF,EAASG,UAEjBJ,MAAKK,IACJR,EAAYQ,EAAK,GAAGC,IACpB,MAAMC,EAAQ,cAAaF,EAAK,GAAGC,gBACnCjB,SAASC,cAAc,aAAakB,UAAYD,KAEjDE,OAAMC,IACLC,QAAQC,IAAIF,MAMhBX,MAAM,sBACHC,MAAKiB,GAAOA,EAAIb,SAChBJ,MAAKK,IACJM,QAAQC,IAAIP,GACZT,EAAOS,EAAKT,KACZ,MAAMW,EAAOX,EACVsB,KAAIC,GACK,0FAGMA,EAAIb,iHAE2Ba,EAAIC,oEACFD,EAAIE,mEACPF,EAAIG,wEACIH,EAAII,8EAMzDC,KAAK,IACRnC,SACGC,cAAc,kBACdmC,mBAAmB,aAAclB,MAErCE,OAAMC,IACLC,QAAQC,IAAIF,MAMlB,MAgCMgB,EAAOrC,SAASsC,uBAAuB,oBAAoB,GACjED,EAAKb,iBAAiB,UAAUe,IAC9BA,EAAMC,iBACND,EAAME,mBACuB,IAAzBJ,EAAKK,iBApCO,MAChB,MAAMC,EAAS,CACbZ,KAAM/B,SAAS0B,eAAe,gBAAgBC,MAC9CM,IAAKjC,SAAS0B,eAAe,eAAeC,MAC5CK,OAAQhC,SAAS0B,eAAe,kBAAkBC,MAClDO,YAAalC,SAAS0B,eAAe,uBAAuBC,MAC5DV,IAAKT,GAGPD,EAAKqC,KAAKD,GAEV,MAAMzB,EAAQ,oFAGMyB,EAAO1B,6GAEwB0B,EAAOZ,kEACLY,EAAOX,iEACVW,EAAOV,sEACCU,EAAOT,uDAKjElC,SACGC,cAAc,kBACdmC,mBAAmB,aAAclB,GAEpCO,IACAtB,KAQE0C,GAEFR,EAAKS,UAAUC,IAAI,qB","file":"main.js","sourcesContent":["const allCatsView = document.querySelector('.all-cats');\nconst addNewCatView = document.querySelector('.add-new-cat');\nconst toggleView = () => {\n  allCatsView.style.display =\n    getComputedStyle(allCatsView).display === 'none' ? 'block' : 'none';\n  addNewCatView.style.display =\n    getComputedStyle(addNewCatView).display === 'none' ? 'block' : 'none';\n};\n\nlet cats = [];\nlet actualURL = '';\n\nconst findAnotherCatBtn = document.querySelector('#findAnotherCatBtn');\n\nfunction findAnotherCat() {\n  fetch('https://api.thecatapi.com/v1/images/search')\n    .then(response => {\n      if (!response.ok) {\n        throw Error('error');\n      }\n      return response.json();\n    })\n    .then(data => {\n      actualURL = data[0].url;\n      const html = `<image src=${data[0].url} class=\"\">`;\n      document.querySelector('#catImage').innerHTML = html;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\nfindAnotherCatBtn.addEventListener('click', () => findAnotherCat());\nconst clearForm = () => {\n  document.getElementById('inputNewName').value = '';\n  document.getElementById('inputNewAge').value = '';\n  document.getElementById('inputNewColour').value = '';\n  document.getElementById('inputNewDescription').value = '';\n  findAnotherCat();\n};\n\ndocument.querySelector('#goToHome').addEventListener('click', () => {\n  clearForm();\n  toggleView();\n});\ndocument\n  .querySelector('#addNewCatBtn')\n  .addEventListener('click', () => toggleView());\n\nfunction fetchData() {\n  fetch('https://api.thecatapi.com/v1/images/search')\n    .then(response => {\n      if (!response.ok) {\n        throw Error('error');\n      }\n      return response.json();\n    })\n    .then(data => {\n      actualURL = data[0].url;\n      const html = `<image src=${data[0].url} class=\"\">`;\n      document.querySelector('#catImage').innerHTML = html;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\nfetchData();\n\nfunction init() {\n  fetch('./assets/data.json')\n    .then(res => res.json())\n    .then(data => {\n      console.log(data);\n      cats = data.cats;\n      const html = cats\n        .map(cat => {\n          return `\n      <div class=\"col-md-4\">\n        <div class=\"card mb-3\">\n            <img src=\"${cat.url}\">\n            <div class=\"card-body\" id=\"picture\">\n                <p class=\"card-text\" id=\"cats\">Name: ${cat.name}</p>\n                <p class=\"card-text\" id=\"cats\">Colour: ${cat.colour}</p>\n                <p class=\"card-text\" id=\"cats\">Age: ${cat.age}</p>\n                <p class=\"card-text\" id=\"cats\">Description: ${cat.description}</p>\n            </div>\n        </div>\n      </div>\n      `;\n        })\n        .join('');\n      document\n        .querySelector('.all-cats .row')\n        .insertAdjacentHTML('afterbegin', html);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\ninit();\n\nconst addNewCat = () => {\n  const newCat = {\n    name: document.getElementById('inputNewName').value,\n    age: document.getElementById('inputNewAge').value,\n    colour: document.getElementById('inputNewColour').value,\n    description: document.getElementById('inputNewDescription').value,\n    url: actualURL,\n  };\n\n  cats.push(newCat);\n\n  const html = `\n    <div class=\"col-md-4\">\n      <div class=\"card mb-3\">\n          <img src=\"${newCat.url}\">\n          <div class=\"card-body\" id=\"picture\">\n              <p class=\"card-text\" id=\"cats\">Name: ${newCat.name}</p>\n              <p class=\"card-text\" id=\"cats\">Colour: ${newCat.colour}</p>\n              <p class=\"card-text\" id=\"cats\">Age: ${newCat.age}</p>\n              <p class=\"card-text\" id=\"cats\">Description: ${newCat.description}<p>\n          </div>\n      </div>\n    `;\n\n  document\n    .querySelector('.all-cats .row')\n    .insertAdjacentHTML('afterbegin', html);\n\n  clearForm();\n  toggleView();\n};\n\nconst form = document.getElementsByClassName('needs-validation')[0];\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  event.stopPropagation();\n  if (form.checkValidity() === true) {\n    addNewCat();\n  }\n  form.classList.add('was-validated');\n});\n"],"sourceRoot":""}