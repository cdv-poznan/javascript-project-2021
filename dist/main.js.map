{"version":3,"sources":["webpack://javascript-project-2021/./src/main.js"],"names":["$todoInput","$alertInfo","$addBtn","$ulList","$newTask","$toolsPanel","$completBtn","$editBtn","$deleteBtn","$popup","$popupInfo","$editedTodo","$popupInput","$addPopupBtn","$closeTodoBtn","$acceptPanel","$editedPanelinfo","$acceptPanelInfo","$acceptPanelBtn","$closeAcceptPanelBtn","$currency","$tenor","$margin","$percentage","$insurance","currencyArr","$allTask","$idNumber","endpoint","addNewTask","JSON","parse","localStorage","getItem","value","currencyValues","filter","call","options","option","selected","map","text","currencyTenor","currencyMargin","localLi","currency","tenor","margin","document","createElement","innerText","setAttribute","appendChild","classList","add","innerHTML","$userBtn","enterCheck","event","keyCode","checkClick","e","target","closest","contains","style","display","oldTodo","id","getElementById","firstChild","textContent","OpenAcceptPanel","console","log","className","editTask","remove","lenght","deleteTask","changeTodo","closePopup","closeAcceptPanel","acceptBtn","fetch","then","blob","json","data","push","searchInput","querySelector","suggestions","displayMatches","this","matchArray","wordToMatch","rates","place","regex","RegExp","match","code","html","replace","mid","join","addEventListener","getElementsByTagName","$acceptPanelInput"],"mappings":"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","file":"main.js","sourcesContent":["let $todoInput; // miejsce na wpisanie treści\r\nlet $alertInfo; // info o braku zadania / konieczność dodania\r\nlet $addBtn; // przycisk ADD - dodaje nowe elementy\r\nlet $ulList; // lista zadań\r\nlet $newTask; // nowo dodany Li, nowe zadanie\r\nlet $toolsPanel; // panel z narzędziami\r\nlet $completBtn; //przycisk niebieski ok\r\nlet $editBtn; // przycisk edycji\r\nlet $deleteBtn; // przycisk usuwania\r\n\r\nlet $popup; //pobrany popup\r\nlet $popupInfo; // alert w popupie przy dodaniu pustego tekstu\r\nlet $editedTodo; // edytowanyt Todo\r\nlet $popupInput; // tekst wpisywany w inputa\r\nlet $addPopupBtn; //przycisk zatwierdz w pupapie\r\nlet $closeTodoBtn; // przycisk od zamykania popupa\r\n\r\nlet $acceptPanel; // panel akceptacji oferty\r\nlet $editedPanelinfo; // edytowanyt Todo\r\nlet $acceptPanelInfo; // tekst wpisany w panelu\r\nlet $acceptPanelBtn; //przycisk zatwierdz w pupapie\r\nlet $closeAcceptPanelBtn; // zamykanie accteptPanel\r\n\r\nlet $currency; // walutra transakcji\r\nlet $tenor; // okres\r\nlet $margin; // marża\r\nlet $percentage; //prowizja\r\nlet $insurance; // ubezpieczenie\r\nconst currencyArr = [];\r\n\r\n// let $items = []; // tablica do wartość by przekazać do localStora\r\nlet $idNumber = 0;\r\nlet $allTask;\r\nconst endpoint =\r\n  'https://api.nbp.pl/api/exchangerates/tables/a/last/1?format=json';\r\n// API kursów walutów NBP\r\n//tablica w wynikami kursów walut\r\nconst itemsStorage = JSON.parse(localStorage.getItem('itemsStorage')) || [];\r\n//pobranie elementów\r\nconst prepareDOMElemenst = () => {\r\n  $todoInput = document.querySelector('.todoinput');\r\n  $alertInfo = document.querySelector('.alertinfo');\r\n  $addBtn = document.querySelector('.addbtn');\r\n  $ulList = document.querySelector('.todolist ul');\r\n\r\n  $popup = document.querySelector('.popup');\r\n  $popupInfo = document.querySelector('.popupinfo');\r\n  $popupInput = document.querySelector('.popupinput');\r\n  $addPopupBtn = document.querySelector('.accept');\r\n  $closeTodoBtn = document.querySelector('.cancel');\r\n  $allTask = $ulList.getElementsByTagName('li');\r\n\r\n  $acceptPanel = document.querySelector('.acceptpanel');\r\n  $acceptPanelInfo = document.querySelector('.acceptpanelinfo');\r\n  $acceptPanelInput = document.querySelector('.acceptPanelInput');\r\n  $acceptPanelBtn = document.querySelector('.accPanel');\r\n  $closeAcceptPanelBtn = document.querySelector('.cancelPanel');\r\n\r\n  $currency = document.querySelector('.currency');\r\n  $tenor = document.querySelector('.tenor');\r\n  $margin = document.querySelector('.margin');\r\n  $percentage = document.querySelector('.percentage');\r\n  $insurance = document.querySelector(`.insurance input[type='checkbox']`);\r\n};\r\n///////////////////////////////////////////////////////////////////////\r\nconst createToolsArea = () => {\r\n  $toolsPanel = document.createElement('div');\r\n  $toolsPanel.classList.add('tools');\r\n  $newTask.appendChild($toolsPanel);\r\n\r\n  $completBtn = document.createElement('button');\r\n  $completBtn.classList.add('complete');\r\n  $completBtn.innerHTML = '<i class=\"fas fa-check\"></i>';\r\n  $toolsPanel.appendChild($completBtn);\r\n\r\n  $editBtn = document.createElement('button');\r\n  $editBtn.classList.add('edit');\r\n  $editBtn.innerHTML = 'EDIT';\r\n  $toolsPanel.appendChild($editBtn);\r\n\r\n  $deleteBtn = document.createElement('button');\r\n  $deleteBtn.classList.add('delete');\r\n  $deleteBtn.innerHTML = '<i class=\"fas fa-times\"></i>';\r\n  $toolsPanel.appendChild($deleteBtn);\r\n\r\n  $userBtn = document.createElement('button');\r\n  $userBtn.classList.add('userBtn');\r\n  $userBtn.innerHTML = '<i class=\"far fa-user\"></i>';\r\n  $toolsPanel.appendChild($userBtn);\r\n};\r\n///////////////////////////////////////////////////////////////////////\r\n\r\nconst addNewTask = () => {\r\n  if ($todoInput.value !== '') {\r\n    $idNumber++;\r\n\r\n    const currencyValues = [].filter\r\n      .call($currency.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyTenor = [].filter\r\n      .call($tenor.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyMargin = [].filter\r\n      .call($margin.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyPercentage = [].filter\r\n      .call($percentage.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const localLi = {\r\n      value: $todoInput.value,\r\n      currency: currencyValues,\r\n      tenor: currencyTenor,\r\n      margin: currencyMargin,\r\n    };\r\n    // items.push(localLi);\r\n    // populateList(items, localLi);\r\n    // console.log(items);\r\n    // function populateList(plates =[],platesList){\r\n    //     platesList.innerHTML = plates.map((plate, i) => {\r\n    //         return `\r\n    //         <li>\r\n    //         <label for=\"\"${plate.text}</lable>\r\n    //         </li>\r\n    //         `;\r\n    //     }).join('');\r\n    // }\r\n    // populateList(items, localLi);\r\n\r\n    $newTask = document.createElement('li');\r\n    // $newTask.innerText ='Twoja oferta: ' + $todoInput.value + currencyValues +' na okres: '+ currencyTenor +' z oprocentowaniem: '+ currencyMargin;\r\n    $newTask.innerText = ` Twoja oferta to:  ${localLi.value}  ${localLi.currency}  na okres:  ${localLi.tenor}  z oprocentowaniem: ${localLi.margin}`;\r\n    $newTask.setAttribute('id', `todo-${$idNumber}`);\r\n    $ulList.appendChild($newTask);\r\n    // $newTask.setItem('itemsStorage', JSON.stringify($newTask));\r\n    $todoInput.value = '';\r\n    $alertInfo.innerText = '';\r\n    createToolsArea();\r\n  } else {\r\n    $alertInfo.innerText = 'Wpisz kwotę!';\r\n  }\r\n};\r\n//////////////////////////FUNCKCJA LOCALSTORGE/////////////////////////////////////////////\r\n\r\n// const addlocalStorEvent = () => {\r\n//   const localtext = $ulList.innerText;\r\n//   $itemsStorage.push(localtext);\r\n//   console.log(localtext);\r\n//   console.log($itemsStorage);\r\n//   localStorage.setItem('itemsStorage', JSON.stringify($itemsStorage));\r\n//   addNewTask(localtext);\r\n//   $itemsStorage.forEach(item => {\r\n//     $newTask = document.createElement('li');\r\n//     $newTask.innerText = item;\r\n//     $newTask.setAttribute('id', `todo-${$idNumber}`)\r\n//     $ulList.appendChild($newTask);\r\n//     $todoInput.value = '';\r\n//     $alertInfo.innerText = '';\r\n//     createToolsArea();\r\n//   })\r\n// };\r\n///////////////////////////////////////////////////////////////////////\r\n\r\nconst enterCheck = () => {\r\n  if (event.keyCode === 13) {\r\n    addNewTask();\r\n    // addlocalStorEvent();\r\n  }\r\n};\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\n//Usuwanie elementów\r\nconst deleteTask = e => {\r\n  const deleteTodo = e.target.closest('li');\r\n  deleteTodo.remove();\r\n\r\n  if ($allTask.lenght === 0) {\r\n    $alertInfo.innerText = 'Aktualnie brak ofert!';\r\n  }\r\n};\r\n// edycja zadania\r\nconst editTask = e => {\r\n  const oldTodo = e.target.closest('li').id;\r\n  $editedTodo = document.getElementById(oldTodo);\r\n  $popupInput.value = $editedTodo.firstChild.textContent;\r\n\r\n  console.log('ok edit');\r\n  $popup.style.display = 'flex';\r\n};\r\n// otwierdzanie AccpetPanel\r\nconst OpenAcceptPanel = e => {\r\n  $acceptPanel.style.display = 'flex';\r\n  const oldTodo = e.target.closest('li').id;\r\n  $editedPanelinfo = document.getElementById(oldTodo);\r\n  $acceptPanelInfo.innerHTML = $editedPanelinfo.firstChild.textContent;\r\n};\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\nconst checkClick = e => {\r\n  if (e.target.closest('button').classList.contains('complete')) {\r\n    // e.target.closest('li').classList.add('completed');\r\n    // e.target.closest('button').classList.add('completed');\r\n    OpenAcceptPanel(e);\r\n    console.log('okejkowo');\r\n  } else if (e.target.closest('button').className === 'edit') {\r\n    editTask(e);\r\n    console.log('ok edit');\r\n  } else if (e.target.closest('button').className === 'delete') {\r\n    deleteTask(e);\r\n    console.log('delete');\r\n  }\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////////////////\r\n\r\n// zmiana tekstu\r\nconst changeTodo = () => {\r\n  if ($popupInput.value !== '') {\r\n    $editedTodo.firstChild.textContent = $popupInput.value;\r\n    $popup.style.display = 'none';\r\n    $popupInfo.innerText = 'To się uda!';\r\n  } else {\r\n    $popupInfo.innerText = 'Musisz dodać zadanie!';\r\n  }\r\n};\r\n\r\n// zamykanie popupa\r\nconst closePopup = () => {\r\n  $popup.style.display = 'none';\r\n  $popupInfo.innerText = '';\r\n};\r\n\r\n// zamykanie acceptPanel\r\nconst closeAcceptPanel = () => {\r\n  $ulList.classList.remove('completed');\r\n  $acceptPanel.style.display = 'none';\r\n};\r\n\r\n//  Akceptacja oferty\r\nconst acceptBtn = e => {\r\n  $ulList.classList.add('completed');\r\n  $acceptPanel.style.display = 'none';\r\n};\r\n\r\n//  Wyszukiwanei waluty\r\nconst prom = fetch(endpoint);\r\n\r\nfetch(endpoint)\r\n  .then(blob => blob.json())\r\n  .then(data => currencyArr.push(...data));\r\n\r\nfunction findMatches(wordToMatch, $currencyArr) {\r\n  return currencyArr[0].rates.filter(place => {\r\n    const regex = new RegExp(wordToMatch, 'gi');\r\n    return place.currency.match(regex) || place.code.match(regex);\r\n  });\r\n}\r\n\r\nconst searchInput = document.querySelector('.search');\r\nconst suggestions = document.querySelector('.suggestions');\r\n\r\nfunction displayMatches() {\r\n  console.log(this.value);\r\n  const matchArray = findMatches(this.value, currencyArr);\r\n  console.log(matchArray);\r\n\r\n  const html = matchArray\r\n    .map(place => {\r\n      const regex = new RegExp(this.value, 'gi');\r\n      const currencyName = place.currency.replace(\r\n        regex,\r\n        `<span class=\"hlcurrencyarr\">${this.value}</span>`,\r\n      );\r\n      const codeName = place.code.replace(\r\n        regex,\r\n        `<span class=\"hlcurrencyarr\">${this.value}</span>`,\r\n      );\r\n      return `\r\n          <li>\r\n            <span class=\"Waluta:\">${currencyName}, ${codeName}</span>\r\n            <span class=\"Obecny kurs:\">${place.mid}</span>\r\n          </li>\r\n        `;\r\n    })\r\n    .join('');\r\n  suggestions.innerHTML = html;\r\n}\r\n\r\n// nadajemy nasłuchiwanie\r\nconst prepareDOMEvents = () => {\r\n  $addBtn.addEventListener('click', addNewTask);\r\n  // $addBtn.addEventListener('click', addlocalStorEvent);\r\n  $ulList.addEventListener('click', checkClick);\r\n  $closeTodoBtn.addEventListener('click', closePopup);\r\n  $addPopupBtn.addEventListener('click', changeTodo);\r\n  $todoInput.addEventListener('keyup', enterCheck);\r\n  $closeAcceptPanelBtn.addEventListener('click', closeAcceptPanel);\r\n  $acceptPanelBtn.addEventListener('click', acceptBtn);\r\n  searchInput.addEventListener('change', displayMatches);\r\n  searchInput.addEventListener('keyup', displayMatches);\r\n};\r\nconst main = () => {\r\n  prepareDOMElemenst();\r\n  prepareDOMEvents();\r\n  // addlocalStorEvent();\r\n};\r\ndocument.addEventListener('DOMContentLoaded', main);\r\n"],"sourceRoot":""}