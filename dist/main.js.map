{"version":3,"sources":["webpack://javascript-project-2021/./src/main.js"],"names":["$todoInput","$alertInfo","$addBtn","$ulList","$newTask","$toolsPanel","$completBtn","$editBtn","$deleteBtn","$popup","$popupInfo","$editedTodo","$popupInput","$addPopupBtn","$closeTodoBtn","$acceptPanel","$editedPanelinfo","$acceptPanelInfo","$acceptPanelBtn","$closeAcceptPanelBtn","$currency","$tenor","$margin","$percentage","$insurance","currencyArr","$allTask","$idNumber","endpoint","addNewTask","JSON","parse","localStorage","getItem","value","currencyValues","filter","call","options","option","selected","map","text","currencyTenor","currencyMargin","localLi","currency","tenor","margin","document","createElement","innerText","setAttribute","appendChild","classList","add","innerHTML","$userBtn","enterCheck","event","keyCode","checkClick","e","target","closest","contains","toggle","style","display","oldTodo","id","getElementById","firstChild","textContent","OpenAcceptPanel","console","log","className","editTask","remove","lenght","deleteTask","changeTodo","closePopup","closeAcceptPanel","acceptBtn","fetch","then","blob","json","data","push","searchInput","querySelector","suggestions","displayMatches","this","matchArray","wordToMatch","rates","place","regex","RegExp","match","code","html","replace","mid","join","addEventListener","getElementsByTagName","$acceptPanelInput"],"mappings":"MAAA,IAAIA,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAc,GAGpB,IACIC,EADAC,EAAY,EAEhB,MAAMC,EACJ,mEA8EIC,GA3EeC,KAAKC,MAAMC,aAAaC,QAAQ,iBA2ElC,KACjB,GAAyB,KAArBjC,EAAWkC,MAAc,CAC3BP,IAEA,MAAMQ,EAAiB,GAAGC,OACvBC,KAAKjB,EAAUkB,SAASC,GAAUA,EAAOC,WACzCC,KAAIF,GAAUA,EAAOG,OAElBC,EAAgB,GAAGP,OACtBC,KAAKhB,EAAOiB,SAASC,GAAUA,EAAOC,WACtCC,KAAIF,GAAUA,EAAOG,OAElBE,EAAiB,GAAGR,OACvBC,KAAKf,EAAQgB,SAASC,GAAUA,EAAOC,WACvCC,KAAIF,GAAUA,EAAOG,OAMlBG,GAJqB,GAAGT,OAC3BC,KAAKd,EAAYe,SAASC,GAAUA,EAAOC,WAC3CC,KAAIF,GAAUA,EAAOG,OAER,CACdR,MAAOlC,EAAWkC,MAClBY,SAAUX,EACVY,MAAOJ,EACPK,OAAQJ,IAgBVxC,EAAW6C,SAASC,cAAc,MAElC9C,EAAS+C,UAAa,sBAAqBN,EAAQX,UAAUW,EAAQC,wBAAwBD,EAAQE,6BAA6BF,EAAQG,SAC1I5C,EAASgD,aAAa,KAAO,QAAOzB,KACpCxB,EAAQkD,YAAYjD,GAGpBJ,EAAWkC,MAAQ,GACnBjC,EAAWkD,UAAY,GA1EzB9C,EAAc4C,SAASC,cAAc,OACrC7C,EAAYiD,UAAUC,IAAI,SAC1BnD,EAASiD,YAAYhD,GAErBC,EAAc2C,SAASC,cAAc,UACrC5C,EAAYgD,UAAUC,IAAI,YAC1BjD,EAAYkD,UAAY,+BACxBnD,EAAYgD,YAAY/C,GAExBC,EAAW0C,SAASC,cAAc,UAClC3C,EAAS+C,UAAUC,IAAI,QACvBhD,EAASiD,UAAY,OACrBnD,EAAYgD,YAAY9C,GAExBC,EAAayC,SAASC,cAAc,UACpC1C,EAAW8C,UAAUC,IAAI,UACzB/C,EAAWgD,UAAY,+BACvBnD,EAAYgD,YAAY7C,GAExBiD,SAAWR,SAASC,cAAc,UAClCO,SAASH,UAAUC,IAAI,WACvBE,SAASD,UAAY,8BACrBnD,EAAYgD,YAAYI,eAuDtBxD,EAAWkD,UAAY,iBA4BrBO,EAAa,KACK,KAAlBC,MAAMC,SACR/B,KAkCEgC,EAAaC,IACbA,EAAEC,OAAOC,QAAQ,UAAUV,UAAUW,SAAS,aAChDH,EAAEC,OAAOC,QAAQ,MAAMV,UAAUY,OAAO,aACxCJ,EAAEC,OAAOC,QAAQ,UAAUV,UAAUY,OAAO,aAZxBJ,KACtB/C,EAAaoD,MAAMC,QAAU,OAC7B,MAAMC,EAAUP,EAAEC,OAAOC,QAAQ,MAAMM,GACvCtD,EAAmBiC,SAASsB,eAAeF,GAC3CpD,EAAiBuC,UAAYxC,EAAiBwD,WAAWC,aASvDC,CAAgBZ,GAChBa,QAAQC,IAAI,aACsC,SAAzCd,EAAEC,OAAOC,QAAQ,UAAUa,WAxBvBf,KACf,MAAMO,EAAUP,EAAEC,OAAOC,QAAQ,MAAMM,GACvC3D,EAAcsC,SAASsB,eAAeF,GACtCzD,EAAYsB,MAAQvB,EAAY6D,WAAWC,YAE3CE,QAAQC,IAAI,WACZnE,EAAO0D,MAAMC,QAAU,QAmBrBU,CAAShB,GACTa,QAAQC,IAAI,YACsC,WAAzCd,EAAEC,OAAOC,QAAQ,UAAUa,YApCrBf,KACEA,EAAEC,OAAOC,QAAQ,MACzBe,SAEa,IAApBrD,EAASsD,SACX/E,EAAWkD,UAAY,0BAgCvB8B,CAAWnB,GACXa,QAAQC,IAAI,YAOVM,EAAa,KACS,KAAtBtE,EAAYsB,OACdvB,EAAY6D,WAAWC,YAAc7D,EAAYsB,MACjDzB,EAAO0D,MAAMC,QAAU,OACvB1D,EAAWyC,UAAY,eAEvBzC,EAAWyC,UAAY,yBAKrBgC,EAAa,KACjB1E,EAAO0D,MAAMC,QAAU,OACvB1D,EAAWyC,UAAY,IAInBiC,EAAmB,KACvBrE,EAAaoD,MAAMC,QAAU,QAIzBiB,EAAYvB,IAChB/C,EAAaoD,MAAMC,QAAU,QAIlBkB,MAAM1D,GAEnB0D,MAAM1D,GACH2D,MAAKC,GAAQA,EAAKC,SAClBF,MAAKG,GAAQjE,EAAYkE,QAAQD,KASpC,MAAME,EAAc3C,SAAS4C,cAAc,WACrCC,EAAc7C,SAAS4C,cAAc,gBAE3C,SAASE,IACPpB,QAAQC,IAAIoB,KAAK9D,OACjB,MAAM+D,GAZaC,EAYYF,KAAK9D,MAX7BT,EAAY,GAAG0E,MAAM/D,QAAOgE,IACjC,MAAMC,EAAQ,IAAIC,OAAOJ,EAAa,MACtC,OAAOE,EAAMtD,SAASyD,MAAMF,IAAUD,EAAMI,KAAKD,MAAMF,OAH3D,IAAqBH,EAanBvB,QAAQC,IAAIqB,GAEZ,MAAMQ,EAAOR,EACVxD,KAAI2D,IACH,MAAMC,EAAQ,IAAIC,OAAON,KAAK9D,MAAO,MASrC,MAAQ,uDARakE,EAAMtD,SAAS4D,QAClCL,EACC,+BAA8BL,KAAK9D,oBAErBkE,EAAMI,KAAKE,QAC1BL,EACC,+BAA8BL,KAAK9D,kEAKHkE,EAAMO,2CAI1CC,KAAK,IACRd,EAAYtC,UAAYiD,EAE1BxD,SAAS4D,iBAAiB,oBA5Ob,KAtCX7G,EAAaiD,SAAS4C,cAAc,cACpC5F,EAAagD,SAAS4C,cAAc,cACpC3F,EAAU+C,SAAS4C,cAAc,WACjC1F,EAAU8C,SAAS4C,cAAc,gBAEjCpF,EAASwC,SAAS4C,cAAc,UAChCnF,EAAauC,SAAS4C,cAAc,cACpCjF,EAAcqC,SAAS4C,cAAc,eACrChF,EAAeoC,SAAS4C,cAAc,WACtC/E,EAAgBmC,SAAS4C,cAAc,WACvCnE,EAAWvB,EAAQ2G,qBAAqB,MAExC/F,EAAekC,SAAS4C,cAAc,gBACtC5E,EAAmBgC,SAAS4C,cAAc,oBAC1CkB,kBAAoB9D,SAAS4C,cAAc,qBAC3C3E,EAAkB+B,SAAS4C,cAAc,aACzC1E,EAAuB8B,SAAS4C,cAAc,gBAE9CzE,EAAY6B,SAAS4C,cAAc,aACnCxE,EAAS4B,SAAS4C,cAAc,UAChCvE,EAAU2B,SAAS4C,cAAc,WACjCtE,EAAc0B,SAAS4C,cAAc,eACrCrE,EAAayB,SAAS4C,cAAe,qCAIrC3F,EAAQ2G,iBAAiB,QAAShF,GAElC1B,EAAQ0G,iBAAiB,QAAShD,GAClC/C,EAAc+F,iBAAiB,QAAS1B,GACxCtE,EAAagG,iBAAiB,QAAS3B,GACvClF,EAAW6G,iBAAiB,QAASnD,GACrCvC,EAAqB0F,iBAAiB,QAASzB,GAC/ClE,EAAgB2F,iBAAiB,QAASxB,GAC1CO,EAAYiB,iBAAiB,SAAUd,GACvCH,EAAYiB,iBAAiB,QAASd,O","file":"main.js","sourcesContent":["let $todoInput; // miejsce na wpisanie treści\r\nlet $alertInfo; // info o braku zadania / konieczność dodania\r\nlet $addBtn; // przycisk ADD - dodaje nowe elementy\r\nlet $ulList; // lista zadań\r\nlet $newTask; // nowo dodany Li, nowe zadanie\r\nlet $toolsPanel; // panel z narzędziami\r\nlet $completBtn; //przycisk niebieski ok\r\nlet $editBtn; // przycisk edycji\r\nlet $deleteBtn; // przycisk usuwania\r\n\r\nlet $popup; //pobrany popup\r\nlet $popupInfo; // alert w popupie przy dodaniu pustego tekstu\r\nlet $editedTodo; // edytowanyt Todo\r\nlet $popupInput; // tekst wpisywany w inputa\r\nlet $addPopupBtn; //przycisk zatwierdz w pupapie\r\nlet $closeTodoBtn; // przycisk od zamykania popupa\r\n\r\nlet $acceptPanel; // panel akceptacji oferty\r\nlet $editedPanelinfo; // edytowanyt Todo\r\nlet $acceptPanelInfo; // tekst wpisany w panelu\r\nlet $acceptPanelBtn; //przycisk zatwierdz w pupapie\r\nlet $closeAcceptPanelBtn; // zamykanie accteptPanel\r\n\r\nlet $currency; // walutra transakcji\r\nlet $tenor; // okres\r\nlet $margin; // marża\r\nlet $percentage; //prowizja\r\nlet $insurance; // ubezpieczenie\r\nconst currencyArr = [];\r\n\r\n// let $items = []; // tablica do wartość by przekazać do localStora\r\nlet $idNumber = 0;\r\nlet $allTask;\r\nconst endpoint =\r\n  'https://api.nbp.pl/api/exchangerates/tables/a/last/1?format=json';\r\n// API kursów walutów NBP\r\n//tablica w wynikami kursów walut\r\nconst itemsStorage = JSON.parse(localStorage.getItem('itemsStorage')) || [];\r\n//pobranie elementów\r\nconst prepareDOMElemenst = () => {\r\n  $todoInput = document.querySelector('.todoinput');\r\n  $alertInfo = document.querySelector('.alertinfo');\r\n  $addBtn = document.querySelector('.addbtn');\r\n  $ulList = document.querySelector('.todolist ul');\r\n\r\n  $popup = document.querySelector('.popup');\r\n  $popupInfo = document.querySelector('.popupinfo');\r\n  $popupInput = document.querySelector('.popupinput');\r\n  $addPopupBtn = document.querySelector('.accept');\r\n  $closeTodoBtn = document.querySelector('.cancel');\r\n  $allTask = $ulList.getElementsByTagName('li');\r\n\r\n  $acceptPanel = document.querySelector('.acceptpanel');\r\n  $acceptPanelInfo = document.querySelector('.acceptpanelinfo');\r\n  $acceptPanelInput = document.querySelector('.acceptPanelInput');\r\n  $acceptPanelBtn = document.querySelector('.accPanel');\r\n  $closeAcceptPanelBtn = document.querySelector('.cancelPanel');\r\n\r\n  $currency = document.querySelector('.currency');\r\n  $tenor = document.querySelector('.tenor');\r\n  $margin = document.querySelector('.margin');\r\n  $percentage = document.querySelector('.percentage');\r\n  $insurance = document.querySelector(`.insurance input[type='checkbox']`);\r\n};\r\n// nadajemy nasłuchiwanie\r\nconst prepareDOMEvents = () => {\r\n  $addBtn.addEventListener('click', addNewTask);\r\n  // $addBtn.addEventListener('click', addlocalStorEvent);\r\n  $ulList.addEventListener('click', checkClick);\r\n  $closeTodoBtn.addEventListener('click', closePopup);\r\n  $addPopupBtn.addEventListener('click', changeTodo);\r\n  $todoInput.addEventListener('keyup', enterCheck);\r\n  $closeAcceptPanelBtn.addEventListener('click', closeAcceptPanel);\r\n  $acceptPanelBtn.addEventListener('click', acceptBtn);\r\n  searchInput.addEventListener('change', displayMatches);\r\n  searchInput.addEventListener('keyup', displayMatches);\r\n};\r\n\r\nconst main = () => {\r\n  prepareDOMElemenst();\r\n  prepareDOMEvents();\r\n  // addlocalStorEvent();\r\n};\r\n///////////////////////////////////////////////////////////////////////\r\n\r\nconst createToolsArea = () => {\r\n  $toolsPanel = document.createElement('div');\r\n  $toolsPanel.classList.add('tools');\r\n  $newTask.appendChild($toolsPanel);\r\n\r\n  $completBtn = document.createElement('button');\r\n  $completBtn.classList.add('complete');\r\n  $completBtn.innerHTML = '<i class=\"fas fa-check\"></i>';\r\n  $toolsPanel.appendChild($completBtn);\r\n\r\n  $editBtn = document.createElement('button');\r\n  $editBtn.classList.add('edit');\r\n  $editBtn.innerHTML = 'EDIT';\r\n  $toolsPanel.appendChild($editBtn);\r\n\r\n  $deleteBtn = document.createElement('button');\r\n  $deleteBtn.classList.add('delete');\r\n  $deleteBtn.innerHTML = '<i class=\"fas fa-times\"></i>';\r\n  $toolsPanel.appendChild($deleteBtn);\r\n\r\n  $userBtn = document.createElement('button');\r\n  $userBtn.classList.add('userBtn');\r\n  $userBtn.innerHTML = '<i class=\"far fa-user\"></i>';\r\n  $toolsPanel.appendChild($userBtn);\r\n};\r\n///////////////////////////////////////////////////////////////////////\r\n\r\nconst addNewTask = () => {\r\n  if ($todoInput.value !== '') {\r\n    $idNumber++;\r\n\r\n    const currencyValues = [].filter\r\n      .call($currency.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyTenor = [].filter\r\n      .call($tenor.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyMargin = [].filter\r\n      .call($margin.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const currencyPercentage = [].filter\r\n      .call($percentage.options, option => option.selected)\r\n      .map(option => option.text);\r\n\r\n    const localLi = {\r\n      value: $todoInput.value,\r\n      currency: currencyValues,\r\n      tenor: currencyTenor,\r\n      margin: currencyMargin,\r\n    };\r\n    // items.push(localLi);\r\n    // populateList(items, localLi);\r\n    // console.log(items);\r\n    // function populateList(plates =[],platesList){\r\n    //     platesList.innerHTML = plates.map((plate, i) => {\r\n    //         return `\r\n    //         <li>\r\n    //         <label for=\"\"${plate.text}</lable>\r\n    //         </li>\r\n    //         `;\r\n    //     }).join('');\r\n    // }\r\n    // populateList(items, localLi);\r\n\r\n    $newTask = document.createElement('li');\r\n    // $newTask.innerText ='Twoja oferta: ' + $todoInput.value + currencyValues +' na okres: '+ currencyTenor +' z oprocentowaniem: '+ currencyMargin;\r\n    $newTask.innerText = ` Twoja oferta to:  ${localLi.value}  ${localLi.currency}  na okres:  ${localLi.tenor}  z oprocentowaniem: ${localLi.margin}`;\r\n    $newTask.setAttribute('id', `todo-${$idNumber}`);\r\n    $ulList.appendChild($newTask);\r\n    // $newTask.setItem('itemsStorage', JSON.stringify($newTask));\r\n\r\n    $todoInput.value = '';\r\n    $alertInfo.innerText = '';\r\n    createToolsArea();\r\n  } else {\r\n    $alertInfo.innerText = 'Wpisz kwotę!';\r\n  }\r\n};\r\n//////////////////////////FUNCKCJA LOCALSTORGE/////////////////////////////////////////////\r\n\r\n// const addlocalStorEvent = () =>{\r\n//     const localtext = $ulList.innerText;\r\n//     $itemsStorage.push(localtext);\r\n//     console.log(localtext);\r\n//     console.log($itemsStorage);\r\n\r\n//     localStorage.setItem('itemsStorage', JSON.stringify($itemsStorage));\r\n//     // addNewTask(localtext);\r\n\r\n//     $itemsStorage.forEach(item =>{\r\n\r\n//       $newTask = document.createElement('li');\r\n//       $newTask.innerText = item;\r\n//       $newTask.setAttribute('id',`todo-${$idNumber}`)\r\n//       $ulList.appendChild($newTask);\r\n\r\n//       $todoInput.value = '';\r\n//       $alertInfo.innerText = '';\r\n//       createToolsArea();\r\n//     })\r\n// };\r\n///////////////////////////////////////////////////////////////////////\r\n\r\nconst enterCheck = () => {\r\n  if (event.keyCode === 13) {\r\n    addNewTask();\r\n    // addlocalStorEvent();\r\n  }\r\n};\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\n//Usuwanie elementów\r\nconst deleteTask = e => {\r\n  const deleteTodo = e.target.closest('li');\r\n  deleteTodo.remove();\r\n\r\n  if ($allTask.lenght === 0) {\r\n    $alertInfo.innerText = 'Aktualnie brak ofert!';\r\n  }\r\n};\r\n// edycja zadania\r\nconst editTask = e => {\r\n  const oldTodo = e.target.closest('li').id;\r\n  $editedTodo = document.getElementById(oldTodo);\r\n  $popupInput.value = $editedTodo.firstChild.textContent;\r\n\r\n  console.log('ok edit');\r\n  $popup.style.display = 'flex';\r\n};\r\n// otwierdzanie AccpetPanel\r\nconst OpenAcceptPanel = e => {\r\n  $acceptPanel.style.display = 'flex';\r\n  const oldTodo = e.target.closest('li').id;\r\n  $editedPanelinfo = document.getElementById(oldTodo);\r\n  $acceptPanelInfo.innerHTML = $editedPanelinfo.firstChild.textContent;\r\n};\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\nconst checkClick = e => {\r\n  if (e.target.closest('button').classList.contains('complete')) {\r\n    e.target.closest('li').classList.toggle('completed');\r\n    e.target.closest('button').classList.toggle('completed');\r\n    OpenAcceptPanel(e);\r\n    console.log('okejkowo');\r\n  } else if (e.target.closest('button').className === 'edit') {\r\n    editTask(e);\r\n    console.log('ok edit');\r\n  } else if (e.target.closest('button').className === 'delete') {\r\n    deleteTask(e);\r\n    console.log('delete');\r\n  }\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////////////////\r\n\r\n// zmiana tekstu\r\nconst changeTodo = () => {\r\n  if ($popupInput.value !== '') {\r\n    $editedTodo.firstChild.textContent = $popupInput.value;\r\n    $popup.style.display = 'none';\r\n    $popupInfo.innerText = 'To się uda!';\r\n  } else {\r\n    $popupInfo.innerText = 'Musisz dodać zadanie!';\r\n  }\r\n};\r\n\r\n// zamykanie popupa\r\nconst closePopup = () => {\r\n  $popup.style.display = 'none';\r\n  $popupInfo.innerText = '';\r\n};\r\n\r\n// zamykanie acceptPanel\r\nconst closeAcceptPanel = () => {\r\n  $acceptPanel.style.display = 'none';\r\n};\r\n\r\n//  Akceptacja oferty\r\nconst acceptBtn = e => {\r\n  $acceptPanel.style.display = 'none';\r\n};\r\n\r\n//  Wyszukiwanei waluty\r\nconst prom = fetch(endpoint);\r\n\r\nfetch(endpoint)\r\n  .then(blob => blob.json())\r\n  .then(data => currencyArr.push(...data));\r\n\r\nfunction findMatches(wordToMatch, $currencyArr) {\r\n  return currencyArr[0].rates.filter(place => {\r\n    const regex = new RegExp(wordToMatch, 'gi');\r\n    return place.currency.match(regex) || place.code.match(regex);\r\n  });\r\n}\r\n\r\nconst searchInput = document.querySelector('.search');\r\nconst suggestions = document.querySelector('.suggestions');\r\n\r\nfunction displayMatches() {\r\n  console.log(this.value);\r\n  const matchArray = findMatches(this.value, currencyArr);\r\n  console.log(matchArray);\r\n\r\n  const html = matchArray\r\n    .map(place => {\r\n      const regex = new RegExp(this.value, 'gi');\r\n      const currencyName = place.currency.replace(\r\n        regex,\r\n        `<span class=\"hlcurrencyarr\">${this.value}</span>`,\r\n      );\r\n      const codeName = place.code.replace(\r\n        regex,\r\n        `<span class=\"hlcurrencyarr\">${this.value}</span>`,\r\n      );\r\n      return `\r\n          <li>\r\n            <span class=\"Waluta:\">${currencyName}, ${codeName}</span>\r\n            <span class=\"Obecny kurs:\">${place.mid}</span>\r\n          </li>\r\n        `;\r\n    })\r\n    .join('');\r\n  suggestions.innerHTML = html;\r\n}\r\ndocument.addEventListener('DOMContentLoaded', main);\r\n"],"sourceRoot":""}